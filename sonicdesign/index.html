<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" type="text/css" href="./pagePiling.js/jquery.pagepiling.css" />
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://kit.fontawesome.com/b78f678d03.js" crossorigin="anonymous"></script>

</head>

<body>
    <a href="https://your-url" class="github-corner" aria-label="View source on GitHub"><svg id="svg" width="80"
            height="80" viewBox="0 0 250 250"
            style="fill:#fff; color:#000; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path
                d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path
                d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                fill="currentColor" class="octo-body"></path>
        </svg></a>


    <main role="main">

        <div id="pagepiling">
            <div class="section">
                <div class="containblack kickdown">

                    <div class="f-card">

                        <br>
                        <h3 class="text-center fontBold ">SONIC <img src="./thunder.png" class="vibrate-1"
                                style="width: 50px;" alt=""> SENSOR</h3>
                        <br>
                        <br>
                        <br>
                        <div class="d-flex justify-content-center" id="activate">
                            <div class="circle bgbutton-start push-on-hover">
                                <p class="text fontPrimary" onselectstart="return false"> Activate</p>
                            </div>
                        </div>
                        <br>
                        <p id="acttext" class="text-center regular" style="color:black"></p>

                    </div>
                    <div class="d-flex justify-content-center">
                        <span class="fonts-social">
                            <i class="fab fa-github"></i>
                        </span>
                        <div class="col-1"></div>
                        <span class="fonts-social">
                            <i class="fab fa-twitter-square"></i>
                        </span>

                    </div>




                </div>
            </div>
            <div class="section">
                <div class="containblack">
                    <div class="stars small"></div>
                    <br>
                    <br>
                    <br>
                    <br>

                    <div class="d-flex align-items-center justify-content-center">
                        <h2 class="text fontPrimary" id="energyid" style="font-size: 3rem;">80</h2>
                        <div class="bolt" style="margin-left: 30px;margin-top: 40px;">
                            <svg viewBox="0 0 170 57" class="white left">
                                <path
                                    d="M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2">
                                </path>
                            </svg>
                            <svg viewBox="0 0 170 57" class="white right">
                                <path
                                    d="M36.2701759,17.9733192 C-0.981139498,45.4810755 -7.86361824,57.6618438 15.6227397,54.5156241 C50.8522766,49.7962945 201.109341,31.1461782 161.361488,2">
                                </path>
                            </svg>
                            <div>
                                <span></span>
                            </div>

                            <svg viewBox="0 0 70 3" class="line left">
                                <path transform="translate(-2.000000, 0.000000)" d="M2,1.5 L70,1.5"></path>
                            </svg>
                            <svg viewBox="0 0 70 3" class="line right">
                                <path transform="translate(-2.000000, 0.000000)" d="M2,1.5 L70,1.5"></path>
                            </svg>
                        </div>
                    </div>
                    <p class="text-center regular" id="energyalert">Energy less than 100. Excellent! Keep up the
                        distance</p>
                    <br>
                    <br>
                    <br>

                    <div class="d-flex justify-content-center">
                        <lottie-player id="ls" background="transparent" speed="1" class="listen" loop autoplay>
                        </lottie-player>
                    </div>
                    <p id="intext" class="text-center regular"></p>

                </div>
            </div>


        </div>

    </main><!-- /.container -->

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="./pagePiling.js/dist/jquery.pagepiling.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js"></script>

    <script>

        (async function () {
            var f = 0
            var ls = document.querySelector("#ls");
            var inh = document.querySelector("#intext");

            let listen = await fetch("./listen.json")
            let listenJson = await listen.json();
            let goo = await fetch("./googleassist.json")
            let gooJson = await goo.json();
            setInterval(() => {
                if (f) {
                    inh.textContent = " Chirping.. "
                    ls.load(gooJson);
                    f = 0;
                } else {
                    inh.textContent = " Picking up energy waves nearby.. "
                    ls.load(listenJson);
                    f = 1;
                }
            }, 3000);
        })();

        $(document).ready(function () {
            $('#pagepiling').pagepiling({
                scrollingSpeed: 300,
                navigation: false,
                keyboardScrolling: false,
            });


            $('.bolt').each(function (e) {

                var bolt = $(this),
                    div = $(this).children('div');

                bolt.addClass('animate');

                var tween = new TimelineMax({
                    onComplete() {
                        bolt.removeClass('animate');
                        repeat();
                    }
                }).set(div, {
                    rotation: 360
                }).to(div, .7, {
                    y: 80,
                    rotation: 370
                }).to(div, .6, {
                    y: -140,
                    rotation: 20
                }).to(div, .1, {
                    rotation: -24,
                    y: 80
                }).to(div, .8, {
                    ease: Back.easeOut.config(1.6),
                    rotation: 0,
                    y: 0
                });

                function repeat() {
                    setTimeout(() => {
                        bolt.addClass('animate');
                        tween.restart();
                    }, 400);
                }

            })

            var addRule = (function (style) {
                var sheet = document.head.appendChild(style).sheet;
                return function (selector, css) {
                    var propText = typeof css === "string" ? css : Object.keys(css).map(function (p) {
                        return p + ":" + (p === "content" ? "'" + css[p] + "'" : css[p]);
                    }).join(";");
                    sheet.insertRule(selector + "{" + propText + "}", sheet.cssRules.length);
                };
            })(document.createElement("style"));

            document.querySelector(".circle").addEventListener("click", () => {

                document.querySelectorAll(".fonts-social").forEach((el) => {
                    el.classList.add("darkcolor")
                })


                document.querySelector(".circle").classList.add("animatepush");
                setTimeout(() => {
                    addRule(".circle:before", {
                        animation: "ripple 0.3s 1"
                    });

                    setTimeout(() => {
                        document.querySelector(".circle").classList.add("scale-out-center");
                        setTimeout(() => {
                            document.querySelector("#activate").innerHTML = "<lottie-player src='./anime.json' speed='1' style='width: 300px; height: 300px;' autoplay> </lottie-player>";
                            setTimeout(() => {
                                $.fn.pagepiling.moveSectionDown();
                                setTimeout(() => {
                                    document.querySelector("#activate").innerHTML = "<lottie-player src='https://assets7.lottiefiles.com/packages/lf20_ydTi0b.json'  background='transparent'  speed='1'  style='width: 300px; height: 300px;'  loop  autoplay></lottie-player>";
                                    document.querySelector("#acttext").innerHTML = "Busy, listening and sending sonic energy waves"

                                    document.querySelectorAll(".fonts-social").forEach((el) => {
                                        el.classList.remove("darkcolor")
                                    });

                                    addRule(".containblack::before", {
                                        opacity: "1"
                                    });
                                    document.querySelector("#energyid").innerHTML = "105";
                                    document.querySelector("#energyalert").innerHTML = "Energy greater than 100. You are close to someone stepback"

                                    setTimeout(() => {
                                        addRule(".containblack::before", {
                                            opacity: "0"
                                        });
                                        document.querySelector("#energyid").innerHTML = "65";
                                        document.querySelector("#energyalert").innerHTML = "Energy less than 100. Excellent! Keep up the distance"

                                    }, 5000)
                                }, 700);
                            }, 2800)
                        }, 200);
                    }, 300);

                }, 200);


            });
        });


    </script>

</body>

</html>